<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Thessalia</title>
	<script type="text/javascript"
		src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyBvJFVY3P3bwTflFzlBIU6pdPQjTqGpsNQ&sensor=false&libraries=geometry">
	</script>
	<script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<link rel="stylesheet" href="css/component.css">
	<link rel="stylesheet" href="css/demo.css">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="css/style.css">
	<style type="text/css">
			html,body {width:100%;height:100%;margin:0;padding:0;}
   
			#map-canvas
			{
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
			}
			
			#bus_inj {
				background: none repeat scroll 0 0 #585858;
				border-radius: 5px;
				color: #FFFFFF;
				display: none;
				height: 310px;
				width: 315px;
				position: fixed;
				top: 50%;
				left: 50%;
				-webkit-transform: translate(-50%, -50%);
				transform: translate(-50%, -50%);
			}
			
			#node_loss {
				background: none repeat scroll 0 0 #585858;
				border-radius: 5px;
				color: #FFFFFF;
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				-webkit-transform: translate(-50%, -50%);
				transform: translate(-50%, -50%);
			}
			
			#zone_loss {
				background: none repeat scroll 0 0 #585858;
				border-radius: 5px;
				color: #FFFFFF;
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				-webkit-transform: translate(-50%, -50%);
				transform: translate(-50%, -50%);
			}
			
			#real_loss {
				background: none repeat scroll 0 0 #585858;
				border-radius: 5px;
				color: #FFFFFF;
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				-webkit-transform: translate(-50%, -50%);
				transform: translate(-50%, -50%);
			}
			
			#fixed_bus {
				background: none repeat scroll 0 0 #585858;
				border-radius: 5px;
				color: #FFFFFF;
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				-webkit-transform: translate(-50%, -50%);
				transform: translate(-50%, -50%);
			}
			
			#prorata_bus {
				background: none repeat scroll 0 0 #585858;
				border-radius: 5px;
				color: #FFFFFF;
				display: none;
				position: fixed;
				top: 50%;
				left: 50%;
				-webkit-transform: translate(-50%, -50%);
				transform: translate(-50%, -50%);
			}
			
			.close_box{
				background:#00AEEF;
				color:#fff;
				padding:1px 4px 1px;
				display:inline;
				position:absolute;
				right:0px;
				top:0px;
				height:20px;
				border-radius:3px;
				cursor:pointer;
				z-index:100;
				text-decoration:none;
			}
			
			.container {
				margin-top: 20px;
				margin-right: 20px;
			}
		</style>
		<script type="text/javascript">
			google.load("visualization", "1", {packages:["corechart"]});
			google.setOnLoadCallback(drawChart);
			
			function drawChart() {
				var i = 0;

				var data = google.visualization.arrayToDataTable([
					['System Load [MW]', 'Real Loss [MW]'],
					['3500-11500 MW',  0]
				]);

				var data2 =  [
					['3500',  55],
					['3750',  64],
					['4000',  72],
					['4250',  80],
					['4500',  89],
					['4750',  97],
					['5000',  105],
					['5250',  112],
					['5500',  120],
					['5750',  127],
					['6000',  135],
					['6250',  142],
					['6500',  149],
					['6750',  155],
					['7000',  162],
					['7250',  169],
					['7500',  175],
					['7750',  186],
					['8000',  197],
					['8250',  210],
					['8500',  222],
					['8750',  235],
					['9000',  249],
					['9250',  262],
					['9500',  276],
					['9750',  290],
					['10000',  305],
					['10250',  320],
					['10500',  335],
					['10750',  351],
					['11000',  367],
					['11250',  383],
					['11500',  399]
				];
				
				var options = {
					title: 'Real loss data transmission system',
					hAxis: {title: 'System Load [MW]', titleTextStyle: {color: 'red'}},
					animation:{
						duration: 1000,
						easing: 'out'
					},
					vAxis: {minValue: 0, maxValue: 400}
				};

				var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
				var button = document.getElementById('b1');

				function drawChart1() {
					// Disabling the button while the chart is drawing.
					button.disabled = true;
					google.visualization.events.addListener(chart, 'ready',
					function() {
						button.disabled = false;
					});
					chart.draw(data, options);
				}

				button.onclick = function() {
					if (i <= 32) {
						var newLabel = data2[i][0];
						var newValue = data2[i][1];
						data.setValue(0, 1, newValue);
						data.setValue(0, 0, newLabel);
						i++;
						drawChart1();
					}
					else if (i == 33) {
						i = 0;
						var newLabel = data2[i][0];
						var newValue = data2[i][1];
						data.setValue(0, 1, newValue);
						data.setValue(0, 0, newLabel);
						i++;
						drawChart1();
					}
				}
				drawChart1();
			}
			
			function drawChart2(val) {
				jQuery('#fixed_bus').hide();
				var name;
				var value;
				
				if (val == "31631") {
					name = "Agria";
					value = 60;
				}
				else if (val == "35331") {
					name = "Kalampaka (inactive)";
					value = 0;
				}
				else if (val == "35531") {
					name = "Trikala 2 (inactive)";
					value = 0;
				}
				else if (val == "36431") {
					name = "Leontari (inactive)";
					value = 0;
				}
				
				var data = google.visualization.arrayToDataTable([
					['System Load [MW]', name],
					['3500',  value],
					['3750',  value],
					['4000',  value],
					['4250',  value],
					['4500',  value],
					['4750',  value],
					['5000',  value],
					['5250',  value],
					['5500',  value],
					['5750',  value],
					['6000',  value],
					['6250',  value],
					['6500',  value],
					['6750',  value],
					['7000',  value],
					['7250',  value],
					['7500',  value],
					['7750',  value],
					['8000',  value],
					['8250',  value],
					['8500',  value],
					['8750',  value],
					['9000',  value],
					['9250',  value],
					['9500',  value],
					['9750',  value],
					['10000',  value],
					['10250',  value],
					['10500',  value],
					['10750',  value],
					['11000',  value],
					['11250',  value],
					['11500',  value]
				]);

				var options = {
					title: 'Buses Load Data',
					animation:{
						duration: 1000,
						easing: 'out'
				    },
					hAxis: {title: 'System Load [MW]',  titleTextStyle: {color: '#333'}},
					vAxis: {title: 'Bus Load [MW]', minValue: 0}
				};

				var chart = new google.visualization.AreaChart(document.getElementById('chart_div2'));
				chart.draw(data, options);
				showFixedData();
			}
			
			function drawChart3(val) {
				jQuery('#prorata_bus').hide();
				var name;
				var value = [];
				
				if (val == "30231" || val == "30232") {
					name = "Larisa K";
					value = [5.72, 6.35, 6.98, 7.62, 8.25, 8.89, 9.52, 10.16, 10.79, 11.43, 12.07, 12.71, 13.34, 13.98, 14.62, 15.26, 15.90, 16.53, 17.15, 17.78, 18.40, 19.02, 19.64, 20.26, 20.88, 21.50, 22.12, 22.74, 23.35, 23.97, 24.58, 25.19, 25.81];
				}
				else if (val == "30331") {
					name = "Agia";
					value = [5.50, 6.11, 6.72, 7.33, 7.94, 8.55, 9.16, 9.78, 10.39, 11, 11.61, 12.22, 12.84, 13.45, 14.07, 14.68, 15.30, 15.9, 16.5, 17.1, 17.7, 18.3, 18.9, 19.5, 20.09, 20.69, 21.28, 21.88, 22.47, 23.06, 23.65, 24.24, 24.83];
				}
				else if (val == "30431") {
					name = "Larisa 4";
					value = [5.03, 5.59, 6.15, 6.71, 7.26, 7.82, 8.38, 8.94, 9.5, 10.06, 10.62, 11.18, 11.74, 12.31, 12.87, 13.43, 13.99, 14.55, 15.1, 15.65, 16.19, 16.74, 17.29, 17.83, 18.38, 18.93, 19.47, 20.01, 20.55, 21.09, 21.63, 22.18, 22.72];
				}
				else if (val == "30631") {
					name = "Larisa 3";
					value = [13.7, 15.22, 16.74, 18.26, 19.78, 21.3, 22.82, 24.35, 25.87, 27.40, 28.92, 30.45, 31.98, 33.51, 35.04, 36.57, 38.11, 39.61, 41.11, 42.6, 44.1, 45.59, 47.07, 48.57, 50.05, 51.53, 53.01, 54.49, 55.97, 57.44, 58.91, 60.38, 61.86];
				}
				else if (val == "30731") {
					name = "Larisa 2";
					value = [7.85, 8.72, 9.59, 10.47, 11.34, 12.21, 13.08, 13.96, 14.83, 15.71, 16.58, 17.45, 18.33, 19.21, 20.09, 20.96, 21.84, 22.7, 23.57, 24.42, 25.28, 26.13, 26.98, 27.84, 28.69, 29.54, 30.39, 31.23, 32.08, 32.92, 33.77, 34.61, 35.46];
				}
				else if (val == "30831") {
					name = "Larisa 1";
					value = [11.1, 12.33, 13.56, 14.8, 16.03, 17.26, 18.49, 19.73, 20.96, 22.2, 23.44, 24.68, 25.91, 27.16, 28.4, 29.63, 30.88, 32.1, 33.31, 34.52, 35.74, 36.94, 38.15, 39.35, 40.56, 41.76, 42.96, 44.16, 45.35, 46.55, 47.74, 48.93, 50.12];
				}
				else if (val == "31131") {
					name = "Volos 1";
					value = [10.11, 11.23, 12.35, 13.48, 14.59, 15.72, 16.84, 17.97, 19.09, 20.22, 21.34, 22.47, 23.6, 24.73, 25.86, 26.99, 28.12, 29.23, 30.34, 31.44, 32.54, 33.64, 34.74, 35.84, 36.93, 38.03, 39.12, 40.21, 41.3, 42.39, 43.47, 44.56, 45.65];
				}
				else if (val == "31331") {
					name = "Biozwni";
					value = [8.55, 9.5, 10.45, 11.4, 12.34, 13.29, 14.24, 15.2, 16.15, 17.1, 18.05, 19.01, 19.96, 20.92, 21.87, 22.83, 23.78, 24.72, 25.66, 26.59, 27.52, 28.45, 29.38, 30.31, 31.24, 32.16, 33.09, 34.01, 34.93, 35.85, 36.77, 37.69, 38.61];
				}
				else if (val == "31531") {
					name = "Volos 2";
					value = [12.99, 14.43, 15.87, 17.32, 18.75, 20.2, 21.64, 23.09, 24.53, 25.98, 27.43, 28.88, 30.32, 31.78, 33.23, 34.68, 36.13, 37.56, 38.99, 40.4, 41.82, 43.23, 44.64, 46.05, 47.46, 48.87, 50.27, 51.67, 53.07, 54.47, 55.87, 57.26, 58.66];
				}
				else if (val == "31731") {
					name = "Laukos";
					value = [6.38, 7.08, 7.79, 8.5, 9.21, 9.91, 10.62, 11.34, 12.04, 12.76, 13.46, 14.18, 14.89, 15.6, 16.31, 17.02, 17.74, 18.44, 19.14, 19.83, 20.53, 21.22, 21.91, 22.61, 23.3, 23.99, 24.68, 25.37, 26.05, 26.74, 27.42, 28.11, 28.8];
				}
				else if (val == "32231") {
					name = "Stefanovikeio";
					value = [7.64, 8.81, 9.7, 10.58, 11.46, 12.34, 13.22, 14.11, 14.99, 15.87, 16.75, 17.64, 18.53, 19.41, 20.3, 21.19, 22.07, 22.95, 23.82, 24.68, 25.55, 26.41, 27.27, 28.13, 28.99, 29.85, 30.71, 31.57, 32.42, 33.28, 34.13, 34.98, 35.83];
				}
				else if (val == "32331") {
					name = "Domokos";
					value = [3.9, 4.33, 4.76, 5.19, 5.63, 6.06, 6.49, 6.93, 7.36, 7.79, 8.23, 8.66, 9.10, 9.53, 9.97, 10.4, 10.84, 11.27, 11.7, 12.12, 12.55, 12.97, 13.39, 13.82, 14.24, 14.66, 15.08, 15.5, 15.92, 16.34, 16.76, 17.18, 17.6];
				}
				else if (val == "32431") {
					name = "Farsala";
					value = [15.26, 16.95, 18.64, 20.34, 22.03, 23.72, 25.42, 27.12, 28.82, 30.52, 32.31, 33.92, 35.62, 37.33, 39.03, 40.73, 42.44, 44.12, 45.79, 47.45, 49.12, 50.78, 52.43, 54.09, 55.74, 57.4, 59.04, 60.69, 62.34, 63.98, 65.62, 67.26, 68.89];
				}
				else if (val == "32731") {
					name = "Almiros";
					value = [6.57, 7.29, 8.02, 8.75, 9.48, 10.21, 10.94, 11.97, 12.4, 13.13, 13.86, 14.6, 15.33, 16.06, 16.8, 17.53, 18.26, 18.98, 19.71, 20.42, 21.14, 21.85, 22.56, 23.28, 23.99, 24.7, 25.41, 26.12, 26.83, 27.53, 28.24, 28.94, 29.65];
				}
				else if (val == "34131") {
					name = "Trikala 1";
					value = [7.58, 8.42, 9.26, 10.11, 10.95, 11.79, 12.63, 13.48, 14.32, 15.16, 16.01, 16.85, 17.7, 18.55, 19.39, 20.24, 21.09, 21.92, 22.75, 23.58, 24.41, 25.23, 26.05, 26.88, 27.70, 28.52, 29.34, 30.16, 30.98, 31.79, 32.61, 33.42, 34.23];
				}
				else if (val == "34431") {
					name = "Trikala K";
					value = [8.2, 9.1, 10.01, 10.92, 11.83, 12.74, 13.65, 14.57, 15.48, 16.39, 17.3, 18.22, 19.13, 20.05, 20.96, 21.88, 22.8, 23.7, 24.6, 25.49, 26.38, 27.28, 28.16, 29.06, 29.94, 30.83, 31.72, 32.6, 33.48, 34.36, 35.25, 36.13, 37.01];
				}
				else if (val == "35031") {
					name = "Limni Plastira";
					value = [2.46, 2.73, 3, 3.27, 3.55, 3.82, 4.09, 4.37, 4.64, 4.91, 5.19, 5.46, 5.73, 6.01, 6.28, 6.56, 6.83, 7.1, 7.37, 7.64, 7.91, 8.17, 8.44, 8.71, 8.97, 9.24, 9.51, 9.77, 10.04, 10.3, 10.56, 10.83, 11.09];
				}
				else if (val == "35331") {
					name = "Kalampaka";
					value = [5.6, 6.22, 6.84, 7.46, 8.08, 8.7, 9.33, 9.95, 10.57, 11.2, 11.82, 12.44, 13.07, 13.69, 14.32, 14.94, 15.57, 16.19, 16.8, 17.41, 18.02, 18.63, 19.24, 19.85, 20.45, 21.06, 21.66, 22.27, 22.87, 23.47, 24.07, 24.67, 25.28];
				}
				else if (val == "35531") {
					name = "Trikala 2";
					value = [14.48, 16.08, 17.69, 19.3, 20.9, 22.51, 24.12, 25.73, 27.34, 28.96, 30.57, 32.18, 33.8, 35.42, 37.04, 38.65, 40.27, 41.86, 43.45, 45.03, 46.61, 48.18, 49.75, 51.33, 52.9, 54.47, 56.03, 57.59, 59.15, 60.71, 62.26, 63.82, 65.38];
				}
				else if (val == "36131") {
					name = "Karditsa";
					value = [15.8, 17.55, 19.31, 21.06, 22.81, 24.57, 26.32, 28.09, 29.84, 31.6, 33.36, 35.12, 36.89, 38.66, 40.42, 42.18, 43.95, 45.69, 47.42, 49.14, 50.87, 52.59, 54.3, 56.02, 57.73, 59.44, 61.15, 62.85, 64.56, 66.25, 67.95, 69.65, 71.35];
				}
				else if (val == "36431") {
					name = "Leontari";
					value = [6.61, 7.35, 8.08, 8.82, 9.55, 10.28, 11.02, 11.75, 12.49, 13.23, 13.96, 14.7, 15.44, 16.18, 16.92, 17.65, 18.4, 19.12, 19.85, 20.57, 21.29, 22.01, 22.73, 23.45, 24.16, 24.88, 25.59, 26.31, 27.02, 27.73, 28.44, 29.15, 29.86];
				}
				
				var data = google.visualization.arrayToDataTable([
					['System Load [MW]', name],
					['3500',  value[0]],
					['3750',  value[1]],
					['4000',  value[2]],
					['4250',  value[3]],
					['4500',  value[4]],
					['4750',  value[5]],
					['5000',  value[6]],
					['5250',  value[7]],
					['5500',  value[8]],
					['5750',  value[9]],
					['6000',  value[10]],
					['6250',  value[11]],
					['6500',  value[12]],
					['6750',  value[13]],
					['7000',  value[14]],
					['7250',  value[15]],
					['7500',  value[16]],
					['7750',  value[17]],
					['8000',  value[18]],
					['8250',  value[19]],
					['8500',  value[20]],
					['8750',  value[21]],
					['9000',  value[22]],
					['9250',  value[23]],
					['9500',  value[24]],
					['9750',  value[25]],
					['10000',  value[26]],
					['10250',  value[27]],
					['10500',  value[28]],
					['10750',  value[29]],
					['11000',  value[30]],
					['11250',  value[31]],
					['11500',  value[32]]
				]);

				var options = {
					title: 'Buses Load Data',
					hAxis: {title: 'System Load [MW]',  titleTextStyle: {color: '#333'}},
					vAxis: {title: 'Bus Load [MW]', minValue: 0}
				};

				var chart = new google.visualization.AreaChart(document.getElementById('chart_div3'));
				chart.draw(data, options);
				showProRataData();
			}
			
			function drawChart4(val) {
				//jQuery('#fixed_bus').hide();
				var name;
				var value;
				
				if (val == "35187") {
					name = "Plastira G1";
				}
				else if (val == "35287") {
					name = "Plastira G2";
				}
				else if (val == "35387") {
					name = "Plastira G3";
				}
				
				value = [0.99451, 0.99402, 0.99415, 0.99506, 0.99434, 0.99381, 0.99328, 0.99294, 0.99376, 0.99433, 0.99489, 0.99371, 0.99351, 0.99281, 0.99242, 0.99512, 0.99484, 0.99360, 0.99287, 0.99222, 0.99149, 0.98994, 0.98854, 0.98722, 0.98671, 0.98505, 0.98280, 0.98148, 0.98035, 0.97920, 0.97812, 0.97729, 0.97619];
				
				var data = google.visualization.arrayToDataTable([
					['System Load [MW]', name],
					['3500',  value[0]],
					['3750',  value[1]],
					['4000',  value[2]],
					['4250',  value[3]],
					['4500',  value[4]],
					['4750',  value[5]],
					['5000',  value[6]],
					['5250',  value[7]],
					['5500',  value[8]],
					['5750',  value[9]],
					['6000',  value[10]],
					['6250',  value[11]],
					['6500',  value[12]],
					['6750',  value[13]],
					['7000',  value[14]],
					['7250',  value[15]],
					['7500',  value[16]],
					['7750',  value[17]],
					['8000',  value[18]],
					['8250',  value[19]],
					['8500',  value[20]],
					['8750',  value[21]],
					['9000',  value[22]],
					['9250',  value[23]],
					['9500',  value[24]],
					['9750',  value[25]],
					['10000',  value[26]],
					['10250',  value[27]],
					['10500',  value[28]],
					['10750',  value[29]],
					['11000',  value[30]],
					['11250',  value[31]],
					['11500',  value[32]]
				]);

				var options = {
					title: 'Nodal Factor Losses',
					animation:{
						duration: 1000,
						easing: 'out'
				    },
					hAxis: {title: 'System Load [MW]',  titleTextStyle: {color: '#333'}},
					vAxis: {title: 'Bus Factor Loss', minValue: 0.97500, maxValue: 1}
				};

				var chart = new google.visualization.ColumnChart(document.getElementById('chart_div4'));
				chart.draw(data, options);
				showFactorLosses();
			}
			
			function drawChart5() {
				var value;
				
				value = [1, 1, 1, 1, 1, 1, 1, 0.999244, 0.998585, 0.998752, 0.998106, 0.997235, 0.997957, 0.996969, 0.996378, 0.998322, 0.997065, 0.995433, 0.995072, 0.992916, 0.992354, 0.990142, 0.990262, 0.990549, 0.990876, 0.990276, 0.989624, 0.990021, 0.990568, 0.991088, 0.991626, 0.992215, 0.992279];
				
				var data = google.visualization.arrayToDataTable([
					['System Load [MW]', 'Loss Factor'],
					['3500',  value[0]],
					['3750',  value[1]],
					['4000',  value[2]],
					['4250',  value[3]],
					['4500',  value[4]],
					['4750',  value[5]],
					['5000',  value[6]],
					['5250',  value[7]],
					['5500',  value[8]],
					['5750',  value[9]],
					['6000',  value[10]],
					['6250',  value[11]],
					['6500',  value[12]],
					['6750',  value[13]],
					['7000',  value[14]],
					['7250',  value[15]],
					['7500',  value[16]],
					['7750',  value[17]],
					['8000',  value[18]],
					['8250',  value[19]],
					['8500',  value[20]],
					['8750',  value[21]],
					['9000',  value[22]],
					['9250',  value[23]],
					['9500',  value[24]],
					['9750',  value[25]],
					['10000',  value[26]],
					['10250',  value[27]],
					['10500',  value[28]],
					['10750',  value[29]],
					['11000',  value[30]],
					['11250',  value[31]],
					['11500',  value[32]]
				]);

				var options = {
					title: 'Zone 3',
					animation:{
						duration: 1000,
						easing: 'out'
				    },
					hAxis: {title: 'System Load [MW]',  titleTextStyle: {color: '#333'}},
					vAxis: {title: 'Zonal Factor Loss', minValue: 0.988000}
				};

				var chart = new google.visualization.ColumnChart(document.getElementById('chart_div5'));
				chart.draw(data, options);
				zonal_loss();
			}
		</script>
  </head>
  <body ng-app="myApp">
    <div id="map-canvas"></div>
	
	<div id="bus_inj" style="display: block;">
		<a href="#" class="close_box" id="close_recent_posts_div">Close </a>
		<div ng-view></div>
	</div>
	
	<div id="real_loss" style="display: block;">
		<a href="#" class="close_box" id="close_recent_posts_div2">Close </a>
		<div id="chart_div" style="width: 500px; height: 300px;"></div>
		<center><input type="submit" id="b1" value="Increase Load (+250MW)"/></center>
	</div>
	
	<div id="fixed_bus" style="display: block;">
		<a href="#" class="close_box" id="close_recent_posts_div3">Close </a>
		<div id="chart_div2" style="width: 400px; height: 200px;"></div>
	</div>
	
	<div id="prorata_bus" style="display: block;">
		<a href="#" class="close_box" id="close_recent_posts_div4">Close </a>
		<div id="chart_div3" style="width: 400px; height: 200px;"></div>
	</div>
	
	<div id="node_loss" style="display: block;">
		<a href="#" class="close_box" id="close_recent_posts_div5">Close </a>
		<div id="chart_div4" style="width: 400px; height: 200px;"></div>
	</div>
	
	<div id="zone_loss" style="display: block;">
		<a href="#" class="close_box" id="close_recent_posts_div6">Close </a>
		<div id="chart_div5" style="width: 400px; height: 200px;"></div>
	</div>
	
	<div id="container" class="container">
		<ul id="gn-menu" class="gn-menu-main">
			<li class="gn-trigger">
				<a class="gn-icon gn-icon-menu"><span>Menu</span></a>
				<nav class="gn-menu-wrapper">
					<div class="gn-scroller">
						<ul class="gn-menu">
							<li>
								<span class="gn-icon gn-icon-pictures">SHOW ME</span> 
								<ul class="gn-submenu">
									<li>
										<span class="gn-icon gn-icon-article">
											<select id="show_guide" class="gn-search" onchange="show(this.value)">
												<option value="">-- Choose from here --</option>
												<option value="bus">Buses-Transmission Lines</option>
												<option value="transform">Transformers</option>
											</select>
										</span>
									</li>
								</ul>
							</li>
							<li>
								<span class="gn-icon gn-icon-pictures">ZOOM IN</span> 
								<ul class="gn-submenu">
									<li>
										<span class="gn-icon gn-icon-article">
											<select id="zoom_guide" class="gn-search" onchange="zoom(this.value)">
												<option value="">-- Select place --</option>
												<option value="Volos">Volos</option>
												<option value="Larisa">Larisa</option>
												<option value="Trikala">Trikala</option>
												<option value="Almiros">Almiros</option>
												<option value="Elassona">Elassona</option>
												<option value="Kalampaka">Kalampaka</option>
												<option value="Limni Plastira">Limni Plastira</option>
												<option value="Leontari, Karditsa">Leontari</option>
												<option value="Domokos">Domokos</option>
												<option value="Farsala">Farsala</option>
												<option value="Λαύκος">Laukos</option>
												<option value="Stefanovikeio">Stefanovikeio</option>
												<option value="Agia">Agia</option>
												<option value="Καλοχώρι, Λάρισα">Kalochori</option>
											</select>
										</span>
									</li>
								</ul>
							</li>
							<li>
								<span class="gn-icon gn-icon-pictures">REAL LOSS</span> 
								<ul class="gn-submenu">
									<li>
										<a href="#" class="gn-icon gn-icon-article" onclick="realLossData();">Real loss data transimission</a>
									</li>
								</ul>
							</li>
							<li>
								<span class="gn-icon gn-icon-help">HELP</span> 
								<ul class="gn-submenu">
									<li>
										<span class="gn-icon gn-icon-article">
											<input type="submit" onclick="javascript:introJs().start();" value="Explain me how it is done!"/> 
										</span>
									</li>
									<li>
										<center><span style="padding-top:100px;"><button class="menu-button" type="button">Close Menu</button></span></center>
									</li>
								</ul>
							</li>
						</ul>
					</div><!-- /gn-scroller -->
				</nav>
			</li>
		</ul>
	</div><!-- /container -->
	<noscript><b>JavaScript must be enabled in order for you to use Google Maps.</b> 
      However, it seems JavaScript is either disabled or not supported by your browser. 
      To view Google Maps, enable JavaScript by changing your browser options, and then 
      try again.
    </noscript>
	<script src="js/jquery.min.js"></script>
	<script src="js/classie.js"></script>
	<script src="js/gnmenu.js"></script>
	<script src="js/modernizr.custom.js"></script>
	<script src="js/angular.js"></script>
	<script src="js/angular-route.js"></script>
	<script src="js/d3.js"></script>
	<script src="js/app.js"></script>
	<script src="js/donut-chart.directive.js"></script>
    <script type="text/javascript">
		var showbuses = [];
		var showtransformers = [];
		var InfoWindow = new google.maps.InfoWindow({
			maxWidth: 300
		});
		var home = new google.maps.LatLng(39.359785,22.930802);
		var line = [];
		var line2 = [];
		var flag = 0;
		var flag2 = 0;
		var flag3 = 0; //gia zones()
		
		var bermudaTriangle;
		var triangleCoords = [
			new google.maps.LatLng(39.31491, 21.714077),
			new google.maps.LatLng(39.287811, 21.666555),
			new google.maps.LatLng(39.274524, 21.73296)
		];
		
		bermudaTriangle = new google.maps.Polygon({
			paths: triangleCoords,
			strokeColor: '#FF0000',
			strokeOpacity: 0.8,
			strokeWeight: 3,
			fillColor: '#FF0000',
			fillOpacity: 0.35
		});
		
		function createMarker(point,name,id,vol,type) {
			var marker = new google.maps.Marker({
				position: point,
				animation: google.maps.Animation.DROP
			});
			if (type == "1") {
				if (id == "30231" || id == "30232" || id == "30331" || id == "30431" || id == "30631" || id == "30731" || id == "30831" || id == "31131" || id == "31331" || id == "31531" || id == "31731" || id == "32231" || id == "32331" || id == "32431" || id == "32731" || id == "34131" || id == "34431" || id == "35031" || id == "36131") {
					var txt = '<u><b>Load Bus</b></u>' + '<br>' + name + '<br>' + '<u><b>Voltage [kV]</b></u>' + '<br>' + vol + '<br><br>' + '<a href="#" onclick="drawChart3('+id+')">Pro-Rata Load Data</a>';
				}
				else if (id == "31631") {
					var txt = '<u><b>Load Bus</b></u>' + '<br>' + name + '<br>' + '<u><b>Voltage [kV]</b></u>' + '<br>' + vol + '<br><br>' + '<a href="#" onclick="drawChart2('+id+')">Fixed Load Data</a>';
				}
				else if (id == "35331" || id == "35531" || id == "36431") {
					var txt = '<u><b>Load Bus</b></u>' + '<br>' + name + '<br>' + '<u><b>Voltage [kV]</b></u>' + '<br>' + vol + '<br><br>' + '<a href="#" onclick="drawChart2('+id+')">Fixed Load Data</a>' + ' | ' + '<a href="#" onclick="drawChart3('+id+')">Pro-Rata Load Data</a>';
				}
				else {
					var txt = '<u><b>Load Bus</b></u>' + '<br>' + name + '<br>' + '<u><b>Voltage [kV]</b></u>' + '<br>' + vol;
				}
			}
			else if (type == "2") {
				var txt = '<u><b>Generator Bus</b></u>' + '<br>' + name + '<br>' + '<u><b>Voltage [kV]</b></u>' + '<br>' + vol + '<br>' + '<u><b>Infusion bus type</b></u><br>Hydro Unit' + '<br><br>' + '<a href="#/injections" onclick="showBusData()">Bus Injection Data</a>' + ' | ' + '<a href="#" onclick="drawChart4('+id+')">Nodal Factor Losses</a>' + ' | ' + '<a href="#" onclick="zones()">Loss Charge Zones</a>';
			}
			google.maps.event.addListener(marker,"click", function() {
				if (type == "2") {
					marker.setIcon("img/black2.png");
				}
				else if (type == "1") {
					if (vol == "400") {
						marker.setIcon("img/red1.png");
					}
					else if (vol == "150") {
						marker.setIcon("img/blue1.png");
					}
					else if (vol == "30") {
						marker.setIcon("img/green1.png");
					}
				}
				InfoWindow.setContent(txt);
				InfoWindow.open(map,marker);
			});		
			
			setTimeout(function() {
				InfoWindow.close();
			}, 0);
			
			marker.setMap(map);
			showbuses.push(marker);
			google.maps.event.addListener(map,"click", function() {
				InfoWindow.close();
			});
			return marker;
		}
		
		function createLine(id1,point1,id2,point2,p1,p2) {
			var txt = '<u><b>Ohmic Resistance</b></u>' + '<br>' + p1 + '<br>' + '<u><b>Inductive Reaction</b></u>' + '<br>' + p2;
			
			var lineSymbol = {
				path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
				strokeColor: 'black',
				fillColor: 'white',
				fillOpacity: 1
			};
			var arrow = {
				icon: lineSymbol,
				//offset: '100px',
				repeat: '100px'
			};
			var flightPlanCoordinates = [
				point1, 
				point2
			];
			var polyOptions = {
				path : flightPlanCoordinates,
				strokeColor: '#FF0000',
				strokeOpacity: 1.0,
				strokeWeight: 1,
				map: map,
				icons : [arrow]
			};
			var flightPath = new google.maps.Polyline(polyOptions);
			var count = 0;
			window.setInterval(function() {
				count = (count + 1) % 1500;

				var icons = flightPath.get('icons');
				icons[0].offset = (count / 3) + '%';
				flightPath.set('icons', icons);
			}, 50);
			if ((p1 >= 0) && (p1 <= 0.001)) {
				var options = {strokeWeight: 2};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.00101) && (p1 <= 0.003)) {
				var options = {strokeWeight: 2.3};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.00301) && (p1 <= 0.007)) {
				var options = {strokeWeight: 2.6};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.00701) && (p1 <= 0.01)) {
				var options = {strokeWeight: 2.9};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.01001) && (p1 <= 0.02)) {
				var options = {strokeWeight: 3.2};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.02001) && (p1 <= 0.04)) {
				var options = {strokeWeight: 3.5};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.04001) && (p1 <= 0.06)) {
				var options = {strokeWeight: 3.8};
				flightPath.setOptions(options);
			}
			else if ((p1 >= 0.06001) && (p1 <= 0.07)) {
				var options = {strokeWeight: 4.1};
				flightPath.setOptions(options);
			}
			if ((p2 >= 0) && (p2 <= 0.01)) {
				var options = {strokeColor: 'yellow'};
				flightPath.setOptions(options);
			}
			else if ((p2 >= 0.01001) && (p2 <= 0.03)) {
				var options = {strokeColor: 'purple'};
				flightPath.setOptions(options);
			}
			else if ((p2 >= 0.03001) && (p2 <= 0.06)) {
				var options = {strokeColor: 'orange'};
				flightPath.setOptions(options);
			}
			else if ((p2 >= 0.06001) && (p2 <= 0.1)) {
				var options = {strokeColor: 'red'};
				flightPath.setOptions(options);
			}
			else if ((p2 >= 0.10001) && (p2 <= 0.5)) {
				var options = {strokeColor: 'blue'};
				flightPath.setOptions(options);
			}
			else if ((p2 >= 0.50001) && (p2 <= 1)) {
				var options = {strokeColor: 'green'};
				flightPath.setOptions(options);
			}
			flightPath.setMap(map);
			line.push(flightPath);
			google.maps.event.addListener(flightPath,"click", function(event) {
				InfoWindow.close();
				InfoWindow.setPosition(event.latLng);
				InfoWindow.setContent(txt);
				InfoWindow.open(map);
			});
			return flightPath;
		}
		
		function createTransformer(id,point,name,vol) {
			bermudaTriangle.setMap(null);
			var marker = new google.maps.Marker({
				position: point,
				animation: google.maps.Animation.DROP
			});
			var txt = '<u><b>Transformer</b></u>' + '<br>' + name + '<br>' + '<u><b>Voltage[kV]</b></u>' + '<br>' + vol;
			google.maps.event.addListener(marker,"click", function() {
				if (vol == "400") {
					marker.setIcon("img/transred.png");
				}
				else if (vol == "150") {
					marker.setIcon("img/transblue.png");
				}
				else if (vol == "30") {
					marker.setIcon("img/transgreen.png");
				}
				else if (vol == "15.75") {
					marker.setIcon("img/transpurple.png");
				}
				InfoWindow.setContent(txt);
				InfoWindow.open(map,marker);
			});	
			
			setTimeout(function() {
				InfoWindow.close();
			}, 0);
			
			marker.setMap(map);
			showtransformers.push(marker);
			google.maps.event.addListener(map,"click", function() {
				InfoWindow.close();
			});
			return marker;
		}
		
		function createTransferLine(id1,point1,id2,point2,cir) {
			var txt = '<u><b>Circuit</b></u>' + '<br>' + cir;
			
			if(cir == "A1") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'black',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "A5") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'red',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "A4") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'yellow',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "A6") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'orange',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "A3") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'purple',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "T1") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'green',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "T2") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'blue',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			else if(cir == "T3") {
				var lineSymbol = {
					path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
					strokeColor: 'grey',
					fillColor: 'white',
					fillOpacity: 1.5
				};
			}
			var arrow = {
				icon: lineSymbol,
				//offset: '100px',
				repeat: '100px'
			};
			var flightPlanCoordinates = [
				point1, 
				point2
			];
			var polyOptions = {
				path : flightPlanCoordinates,
				strokeColor: 'black',
				strokeOpacity: 1.5,
				strokeWeight: 3.5,
				map: map,
				icons : [arrow]
			};
			var flightPath2 = new google.maps.Polyline(polyOptions);
			var count = 0;
			window.setInterval(function() {
				count = (count + 1) % 1500;

				var icons = flightPath2.get('icons');
				icons[0].offset = (count / 3) + '%';
				flightPath2.set('icons', icons);
			}, 50);
			flightPath2.setMap(map);
			line2.push(flightPath2);
			google.maps.event.addListener(flightPath2,"click", function(event) {
				InfoWindow.close();
				InfoWindow.setPosition(event.latLng);
				InfoWindow.setContent(txt);
				InfoWindow.open(map);
			});
			return flightPath2;
		}

		function load1() {
			downloadUrl("xml/thessalia.xml", function(data) {
				var data = new XMLHttpRequest(); 
				data.open("GET", "xml/thessalia.xml", false); 
				data.overrideMimeType("text/xml");
				data.send(null);
				var xml = data.responseXML;
				var markers = xml.documentElement.getElementsByTagName("marker");
				for (var i = 0; i < markers.length; i++) {
					var point = new google.maps.LatLng(
						parseFloat(markers[i].getAttribute("lat")),
						parseFloat(markers[i].getAttribute("lng")));
					var name = markers[i].getAttribute("name");
					var id = markers[i].getAttribute("id");
					var vol = markers[i].getAttribute("vol");
					var type = markers[i].getAttribute("type");
					var marker = createMarker(point,name,id,vol,type);
					google.maps.event.trigger(marker,"click");
				}
			});
			function downloadUrl(url, callback) {
				var request = window.ActiveXObject ?
				new ActiveXObject('Microsoft.XMLHTTP') :
				new XMLHttpRequest;
				request.onreadystatechange = function() {
					if (request.readyState == 4) {
						request.onreadystatechange = doNothing;
						callback(request, request.status);
					}
				};
				request.open('GET', url, true);
				request.send(null);
			}
			function doNothing() {}	
		}
		
		function load2() {
			downloadUrl("xml/lines.xml", function(data) {
				var data = new XMLHttpRequest(); 
				data.open("GET", "xml/lines.xml", false); 
				data.overrideMimeType("text/xml");
				data.send(null);
				var xml = data.responseXML;
				var lines = xml.documentElement.getElementsByTagName("line");
				for (var i = 0; i < lines.length; i++) {
					var id1 = lines[i].getAttribute("id1");
					var point1 = new google.maps.LatLng(
						parseFloat(lines[i].getAttribute("lat1")),
						parseFloat(lines[i].getAttribute("lng1")));
					var id2 = lines[i].getAttribute("id2");
					var point2 = new google.maps.LatLng(
						parseFloat(lines[i].getAttribute("lat2")),
						parseFloat(lines[i].getAttribute("lng2")));
					var p1 = parseFloat(lines[i].getAttribute("p1"));
					var p2 = parseFloat(lines[i].getAttribute("p2"));
					var line = createLine(id1,point1,id2,point2,p1,p2);
					//google.maps.event.trigger(line,"click");
				}
			});
			function downloadUrl(url, callback) {
				var request = window.ActiveXObject ?
				new ActiveXObject('Microsoft.XMLHTTP') :
				new XMLHttpRequest;
				request.onreadystatechange = function() {
					if (request.readyState == 4) {
						request.onreadystatechange = doNothing;
						callback(request, request.status);
					}
				};
				request.open('GET', url, true);
				request.send(null);
			}
			function doNothing() {}	
		}
		
		function load3() {
			downloadUrl("xml/transformers.xml", function(data) {
				var data = new XMLHttpRequest(); 
				data.open("GET", "xml/transformers.xml", false); 
				data.overrideMimeType("text/xml");
				data.send(null);
				var xml = data.responseXML;
				var transformers = xml.documentElement.getElementsByTagName("transformer");
				for (var i = 0; i < transformers.length; i++) {
					var id = transformers[i].getAttribute("id");
					var point = new google.maps.LatLng(
						parseFloat(transformers[i].getAttribute("lat")),
						parseFloat(transformers[i].getAttribute("lng")));
					var name = transformers[i].getAttribute("name");
					var vol = transformers[i].getAttribute("vol");
					var transformer = createTransformer(id,point,name,vol);
					google.maps.event.trigger(transformer,"click");
				}
			});
			function downloadUrl(url, callback) {
				var request = window.ActiveXObject ?
				new ActiveXObject('Microsoft.XMLHTTP') :
				new XMLHttpRequest;
				request.onreadystatechange = function() {
					if (request.readyState == 4) {
						request.onreadystatechange = doNothing;
						callback(request, request.status);
					}
				};
				request.open('GET', url, true);
				request.send(null);
			}
			function doNothing() {}	
		}
		
		function load4() {
			downloadUrl("xml/transf_lines.xml", function(data) {
				var data = new XMLHttpRequest(); 
				data.open("GET", "xml/transf_lines.xml", false); 
				data.overrideMimeType("text/xml");
				data.send(null);
				var xml = data.responseXML;
				var transf_lines = xml.documentElement.getElementsByTagName("transf_line");
				for (var i = 0; i < transf_lines.length; i++) {
					var id1 = transf_lines[i].getAttribute("id1");
					var point1 = new google.maps.LatLng(
						parseFloat(transf_lines[i].getAttribute("lat1")),
						parseFloat(transf_lines[i].getAttribute("lng1")));
					var id2 = transf_lines[i].getAttribute("id2");
					var point2 = new google.maps.LatLng(
						parseFloat(transf_lines[i].getAttribute("lat2")),
						parseFloat(transf_lines[i].getAttribute("lng2")));
					var cir = transf_lines[i].getAttribute("cir");
					var transf_line = createTransferLine(id1,point1,id2,point2,cir);
					//google.maps.event.trigger(transf_line,"click");
				}
			});
			function downloadUrl(url, callback) {
				var request = window.ActiveXObject ?
				new ActiveXObject('Microsoft.XMLHTTP') :
				new XMLHttpRequest;
				request.onreadystatechange = function() {
					if (request.readyState == 4) {
						request.onreadystatechange = doNothing;
						callback(request, request.status);
					}
				};
				request.open('GET', url, true);
				request.send(null);
			}
			function doNothing() {}	
		}
		
		function initialize() {
			var mapOptions = {
						center: new google.maps.LatLng(39.479666, 22.465553),
						zoom: 10,
						zoomControl: true,
						panControl: false,
						zoomControlOptions: {
							style: google.maps.ZoomControlStyle.DEFAULT,
							position: google.maps.ControlPosition.RIGHT_BOTTOM
						},
						mapTypeControl: false
					};
					
			map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);
			var container = (document.getElementById('container'));
			map.controls[google.maps.ControlPosition.RIGHT_TOP].push(container);
			
			$("#close_recent_posts_div").click(function(){
				$("#bus_inj").fadeOut(10);
				return false;
			});
			$("#close_recent_posts_div2").click(function(){
				$("#real_loss").fadeOut(10);
				return false;
			});
			$("#close_recent_posts_div3").click(function(){
				$("#fixed_bus").fadeOut(10);
				return false;
			});
			$("#close_recent_posts_div4").click(function(){
				$("#prorata_bus").fadeOut(10);
				return false;
			});
			$("#close_recent_posts_div5").click(function(){
				$("#node_loss").fadeOut(10);
				return false;
			});
			$("#close_recent_posts_div6").click(function(){
				$("#zone_loss").fadeOut(10);
				return false;
			});
			jQuery('#bus_inj').hide();
			jQuery('#real_loss').hide();
			jQuery('#fixed_bus').hide();
			jQuery('#prorata_bus').hide();
			jQuery('#node_loss').hide();
			jQuery('#zone_loss').hide();
			$('#show_guide').prop('selectedIndex',0);
			$('#zoom_guide').prop('selectedIndex',0);
		}
	    
		function detectBrowser() {
			var useragent = navigator.userAgent;
			var mapdiv = document.getElementById("map-canvas");

			if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1 ) {
				mapdiv.style.width = '100%';
				mapdiv.style.height = '100%';
			}
			else {
				mapdiv.style.width = '100%';
				mapdiv.style.height = '100%';
			}
		}
		
		google.maps.event.addDomListener(window, "resize", function() {
			var center = map.getCenter();
			google.maps.event.trigger(map, "resize");
			map.setCenter(center); 
		});
		google.maps.event.addDomListener(window, 'load', initialize);
		var menu = new gnMenu( document.getElementById( 'gn-menu' ) );
		
		function show(val) {
			if (val == "bus") {
				for (var i=0; i<showbuses.length; i++) {
					showbuses[i].setVisible(true);
				}
				for (var i=0; i<showtransformers.length; i++) {
					showtransformers[i].setVisible(false);
				}
				
				for (var i=0; i<line2.length; i++) {                           
					line2[i].setMap(null); 
				}
				for (var i=0; i<line.length; i++) {                           
					line[i].setMap(map); 
				}
				if (flag == 0) {
					load1();
					load2();
					flag = 1;
				}
				InfoWindow.close();
			}
			else if (val == "transform") {
				for (var i=0; i<showtransformers.length; i++) {
					showtransformers[i].setVisible(true);
				}
				for (var i=0; i<showbuses.length; i++) {
					showbuses[i].setVisible(false);
				}
				
				for (var i=0; i<line.length; i++) {                           
					line[i].setMap(null); 
				}
				for (var i=0; i<line2.length; i++) {                           
					line2[i].setMap(map); 
				}
				if (flag2 == 0) {
					load3();
					load4();
					flag2 = 1;
				}
				flag3 = 0;
				InfoWindow.close();
				bermudaTriangle.setMap(null);
			}
			else if (val == "") {
				for (var i=0; i<showtransformers.length; i++) {
					showtransformers[i].setVisible(false);
				}
				for (var i=0; i<showbuses.length; i++) {
					showbuses[i].setVisible(false);
				}
				for (var i=0; i<line.length; i++) {                           
					line[i].setMap(null); 
				}
				for (var i=0; i<line2.length; i++) {                           
					line2[i].setMap(null); 
				}
				InfoWindow.close();
			}
		}
		
		function zoom(val) {
			if(val == "") {
				map.setCenter(new google.maps.LatLng(39.479666, 22.465553));
				map.setZoom(10);
			}
			else {
				var geocoder = new google.maps.Geocoder();
				geocoder.geocode( { 'address': val}, function(results, status) {
					if (status == google.maps.GeocoderStatus.OK) {
						map.setCenter(results[0].geometry.location);
						map.setZoom(12);
					} 
					else {
					  alert('Geocode was not successful for the following reason: ' + status);
					}
				});
			}
		}
		
		function showBusData() {
			jQuery('#bus_inj').show();
			jQuery('#real_loss').hide();
			jQuery('#fixed_bus').hide();
			jQuery('#prorata_bus').hide();
			jQuery('#node_loss').hide();
			jQuery('#zone_loss').hide();
		}
		
		function showFactorLosses() {
			jQuery('#bus_inj').hide();
			jQuery('#real_loss').hide();
			jQuery('#fixed_bus').hide();
			jQuery('#prorata_bus').hide();
			jQuery('#node_loss').show();
			jQuery('#zone_loss').hide();
		}
		
		function showFixedData() {
			jQuery('#bus_inj').hide();
			jQuery('#real_loss').hide();
			jQuery('#fixed_bus').show();
			jQuery('#prorata_bus').hide();
			jQuery('#node_loss').hide();
			jQuery('#zone_loss').hide();
		}
		
		function realLossData() {
			jQuery('#real_loss').show();
			jQuery('#bus_inj').hide();
			jQuery('#fixed_bus').hide();
			jQuery('#prorata_bus').hide();
			jQuery('#node_loss').hide();
			jQuery('#zone_loss').hide();
		}
		
		function showProRataData() {
			jQuery('#real_loss').hide();
			jQuery('#bus_inj').hide();
			jQuery('#fixed_bus').hide();
			jQuery('#prorata_bus').show();
			jQuery('#node_loss').hide();
			jQuery('#zone_loss').hide();
		}
		
		function zonal_loss() {
			jQuery('#real_loss').hide();
			jQuery('#bus_inj').hide();
			jQuery('#fixed_bus').hide();
			jQuery('#prorata_bus').hide();
			jQuery('#node_loss').hide();
			jQuery('#zone_loss').show();
		}
		function zones() {
			if (flag3 == 0) {
				flag3 = 1;
				bermudaTriangle.setMap(map);
			}
			var contentString = '<b><u>Zone Number</u></b>' + '<br>' + '3' + '<br><br>' + '<a href="#" onclick="drawChart5()">Zonal Loss Factors</a>';
			// Add a listener for the click event.
			google.maps.event.addListener(bermudaTriangle, 'click', function(event) {
				InfoWindow.setContent(contentString);
				InfoWindow.setPosition(event.latLng);
				InfoWindow.open(map);
			});
		}
	</script>
  </body>
</html>